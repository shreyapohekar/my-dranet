<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Interface Configuration | DRANET</title>
<meta name=description content="To configure network interfaces in DRANET, users can provide custom configurations through the parameters field of a ResourceClaim or ResourceClaimTemplate. This configuration adheres to the NetworkConfig structure, which defines the desired state for network interfaces and their associated routes.
Network Configuration Overview The primary structure for custom network configuration is NetworkConfig. It encompasses settings for the network interface itself and any specific routes to be applied within the Pod’s network namespace."><meta property="og:url" content="https://dranet.dev/docs/user/interface-configuration/"><meta property="og:site_name" content="DRANET"><meta property="og:title" content="Interface Configuration"><meta property="og:description" content="To configure network interfaces in DRANET, users can provide custom configurations through the parameters field of a ResourceClaim or ResourceClaimTemplate. This configuration adheres to the NetworkConfig structure, which defines the desired state for network interfaces and their associated routes.
Network Configuration Overview The primary structure for custom network configuration is NetworkConfig. It encompasses settings for the network interface itself and any specific routes to be applied within the Pod’s network namespace."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-05-25T11:30:40+00:00"><meta property="article:modified_time" content="2025-05-25T11:30:40+00:00"><meta itemprop=name content="Interface Configuration"><meta itemprop=description content="To configure network interfaces in DRANET, users can provide custom configurations through the parameters field of a ResourceClaim or ResourceClaimTemplate. This configuration adheres to the NetworkConfig structure, which defines the desired state for network interfaces and their associated routes.
Network Configuration Overview The primary structure for custom network configuration is NetworkConfig. It encompasses settings for the network interface itself and any specific routes to be applied within the Pod&rsquo;s network namespace."><meta itemprop=datePublished content="2025-05-25T11:30:40+00:00"><meta itemprop=dateModified content="2025-05-25T11:30:40+00:00"><meta itemprop=wordCount content="958"><meta name=twitter:card content="summary"><meta name=twitter:title content="Interface Configuration"><meta name=twitter:description content="To configure network interfaces in DRANET, users can provide custom configurations through the parameters field of a ResourceClaim or ResourceClaimTemplate. This configuration adheres to the NetworkConfig structure, which defines the desired state for network interfaces and their associated routes.
Network Configuration Overview The primary structure for custom network configuration is NetworkConfig. It encompasses settings for the network interface itself and any specific routes to be applied within the Pod&rsquo;s network namespace."><link rel=preload href=/scss/main.min.3bb6570761fbbb25e6691001febc67f331f0953db4e4e1cfb79172c2e6a5819e.css as=style integrity="sha256-O7ZXB2H7uyXmaRAB/rxn8zHwlT205OHPt5FywualgZ4=" crossorigin=anonymous><link href=/scss/main.min.3bb6570761fbbb25e6691001febc67f331f0953db4e4e1cfb79172c2e6a5819e.css rel=stylesheet integrity="sha256-O7ZXB2H7uyXmaRAB/rxn8zHwlT205OHPt5FywualgZ4=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-YH3W884R6Z"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YH3W884R6Z")}</script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>DRANET</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/docs><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/docs/user><span>User Guides</span></a></li><li class=nav-item><a class=nav-link href=/docs/concepts><span>Concepts</span></a></li><li class=nav-item><a class=nav-link href=/docs/contributing><span>Contributing</span></a></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>DRANET</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsquick-start-li><a href=/docs/quick-start/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsquick-start><span>Quick Start</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsuser-li><a href=/docs/user/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser><span>User Guides</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuserkuberay-li><a href=/docs/user/kuberay/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsuserkuberay><span>Ray on GKE using DRANET</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusernvidia-dranet-li><a href=/docs/user/nvidia-dranet/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsusernvidia-dranet><span>GKE with NVIDIA DRA and DRANET</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusergke-tpu-performance-li><a href=/docs/user/gke-tpu-performance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsusergke-tpu-performance><span>GKE and Cloud TPU v6e (Trillium)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusergke-rdma-li><a href=/docs/user/gke-rdma/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsusergke-rdma><span>GKE and GPUDirect RDMA with DRA</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsusermpi-operator-li><a href=/docs/user/mpi-operator/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsusermpi-operator><span>MPI Operator on GKE and GPUDirect RDMA</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docsuserinterface-configuration-li><a href=/docs/user/interface-configuration/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-docsuserinterface-configuration><span class=td-sidebar-nav-active-item>Interface Configuration</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconcepts-li><a href=/docs/concepts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsconcepts><span>Concepts</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptslinux-network-interfaces-li><a href=/docs/concepts/linux-network-interfaces/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptslinux-network-interfaces><span>Linux Network Namespaces and Interfaces</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsflexible-networks-li><a href=/docs/concepts/flexible-networks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsflexible-networks><span>Making Networks Flexible</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsinterface-status-li><a href=/docs/concepts/interface-status/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsinterface-status><span>Interface Status</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptshardware-efficiency-li><a href=/docs/concepts/hardware-efficiency/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptshardware-efficiency><span>Hardware Efficiency</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsrdma-li><a href=/docs/concepts/rdma/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsrdma><span>RDMA</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsrdma-modes-li><a href=/docs/concepts/rdma-modes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsrdma-modes><span>RDMA Device Handling</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptshowitworks-li><a href=/docs/concepts/howitworks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptshowitworks><span>How It Works</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsreferences-li><a href=/docs/concepts/references/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsreferences><span>References</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscontributing-li><a href=/docs/contributing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docscontributing><span>Contributing</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscontributingdeveloper-guide-li><a href=/docs/contributing/developer-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docscontributingdeveloper-guide><span>Developer Guide</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscontributingcontributing-li><a href=/docs/contributing/contributing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docscontributingcontributing><span>Contributing</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><a href=https://github.com/google/dranet/tree/main/site/content/docs/user/interface-configuration.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/google/dranet/edit/main/site/content/docs/user/interface-configuration.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/google/dranet/new/main/site/content/docs/user?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/google/dranet/issues/new?title=Interface%20Configuration" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#network-configuration-overview>Network Configuration Overview</a></li><li><a href=#example-customizing-a-network-interface-and-routes>Example: Customizing a Network Interface and Routes</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs/>DRANET</a></li><li class=breadcrumb-item><a href=/docs/user/>User Guides</a></li><li class="breadcrumb-item active" aria-current=page>Interface Configuration</li></ol></nav><div class=td-content><h1>Interface Configuration</h1><header class=article-meta></header><p>To configure network interfaces in DRANET, users can provide custom configurations through the parameters field of a ResourceClaim or ResourceClaimTemplate. This configuration adheres to the NetworkConfig structure, which defines the desired state for network interfaces and their associated routes.</p><h3 id=network-configuration-overview>Network Configuration Overview</h3><p>The primary structure for custom network configuration is NetworkConfig. It encompasses settings for the network interface itself and any specific routes to be applied within the Pod&rsquo;s network namespace.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00f>type</span> NetworkConfig <span style=color:#00f>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:green>// Interface defines core properties of the network interface.
</span></span></span><span style=display:flex><span><span style=color:green></span>	<span style=color:green>// Settings here are typically managed by `ip link` commands.
</span></span></span><span style=display:flex><span><span style=color:green></span>	Interface InterfaceConfig <span style=color:#a31515>`json:&#34;interface&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// Routes defines static routes to be configured for this interface.
</span></span></span><span style=display:flex><span><span style=color:green></span>	Routes []RouteConfig <span style=color:#a31515>`json:&#34;routes,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// Neighbors defines permanent neighbor (ARP/NDP) entries to be added for this interface.
</span></span></span><span style=display:flex><span><span style=color:green></span>	Neighbors []NeighborConfig <span style=color:#a31515>`json:&#34;neighbors,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// Ethtool defines hardware offload features and other settings managed by `ethtool`.
</span></span></span><span style=display:flex><span><span style=color:green></span>	Ethtool *EthtoolConfig <span style=color:#a31515>`json:&#34;ethtool,omitempty&#34;`</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=interface-configuration>Interface Configuration</h4><p>The InterfaceConfig structure allows you to specify details for a single network interface.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00f>type</span> InterfaceConfig <span style=color:#00f>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:green>// Name is the desired logical name of the interface inside the Pod (e.g., &#34;net0&#34;, &#34;eth_app&#34;).
</span></span></span><span style=display:flex><span><span style=color:green></span>	<span style=color:green>// If not specified, DRANET may use or derive a name from the original interface.
</span></span></span><span style=display:flex><span><span style=color:green></span>	Name <span style=color:#2b91af>string</span> <span style=color:#a31515>`json:&#34;name,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// Addresses is a list of IP addresses in CIDR format (e.g., &#34;192.168.1.10/24&#34;)
</span></span></span><span style=display:flex><span><span style=color:green></span>	<span style=color:green>// to be assigned to the interface.
</span></span></span><span style=display:flex><span><span style=color:green></span>	Addresses []<span style=color:#2b91af>string</span> <span style=color:#a31515>`json:&#34;addresses,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// MTU is the Maximum Transmission Unit for the interface.
</span></span></span><span style=display:flex><span><span style=color:green></span>	MTU *<span style=color:#2b91af>int32</span> <span style=color:#a31515>`json:&#34;mtu,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// HardwareAddr is the MAC address of the interface.
</span></span></span><span style=display:flex><span><span style=color:green></span>	HardwareAddr *<span style=color:#2b91af>string</span> <span style=color:#a31515>`json:&#34;hardwareAddr,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// GSOMaxSize sets the maximum Generic Segmentation Offload size for IPv6.
</span></span></span><span style=display:flex><span><span style=color:green></span>	<span style=color:green>// Managed by `ip link set &lt;dev&gt; gso_max_size &lt;val&gt;`. For enabling Big TCP.
</span></span></span><span style=display:flex><span><span style=color:green></span>	GSOMaxSize *<span style=color:#2b91af>int32</span> <span style=color:#a31515>`json:&#34;gsoMaxSize,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// GROMaxSize sets the maximum Generic Receive Offload size for IPv6.
</span></span></span><span style=display:flex><span><span style=color:green></span>	<span style=color:green>// Managed by `ip link set &lt;dev&gt; gro_max_size &lt;val&gt;`. For enabling Big TCP.
</span></span></span><span style=display:flex><span><span style=color:green></span>	GROMaxSize *<span style=color:#2b91af>int32</span> <span style=color:#a31515>`json:&#34;groMaxSize,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// GSOv4MaxSize sets the maximum Generic Segmentation Offload size.
</span></span></span><span style=display:flex><span><span style=color:green></span>	<span style=color:green>// Managed by `ip link set &lt;dev&gt; gso_ipv4_max_size &lt;val&gt;`. For enabling Big TCP.
</span></span></span><span style=display:flex><span><span style=color:green></span>	GSOIPv4MaxSize *<span style=color:#2b91af>int32</span> <span style=color:#a31515>`json:&#34;gsoIPv4MaxSize,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// GROv4MaxSize sets the maximum Generic Receive Offload size.
</span></span></span><span style=display:flex><span><span style=color:green></span>	<span style=color:green>// Managed by `ip link set &lt;dev&gt; gro_ipv4_max_size &lt;val&gt;`. For enabling Big TCP.
</span></span></span><span style=display:flex><span><span style=color:green></span>	GROIPv4MaxSize *<span style=color:#2b91af>int32</span> <span style=color:#a31515>`json:&#34;groIPv4MaxSize,omitempty&#34;`</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><strong>name</strong> (string, optional): The logical name that the interface will have inside the Pod (e.g., &ldquo;eth0&rdquo;, &ldquo;enp0s3&rdquo;). If not specified, DRANET will keep the original name if compliant.</li><li><strong>addresses</strong> ([]string, optional): A list of IP addresses in CIDR format (e.g., &ldquo;192.168.1.10/24&rdquo;, &ldquo;2001:db8::1/64&rdquo;) to be assigned to the interface.</li><li><strong>mtu</strong> (int32, optional): The Maximum Transmission Unit for the interface.</li><li><strong>hardwareAddr</strong> (string, optional): The MAC address of the interface.</li><li><strong>gsoMaxSize</strong> (int32, optional): The maximum Generic Segmentation Offload size for IPv6.</li><li><strong>groMaxSize</strong> (int32, optional): The maximum Generic Receive Offload size for IPv6.</li><li><strong>gsoIPv4MaxSize</strong> (int32, optional): The maximum Generic Segmentation Offload size for IPv4.</li><li><strong>groIPv4MaxSize</strong> (int32, optional): The maximum Generic Receive Offload size for IPv4.</li></ul><h4 id=route-configuration-routeconfig>Route Configuration (RouteConfig)</h4><p>The RouteConfig structure defines individual network routes to be added to the Pod&rsquo;s network namespace, associated with the configured interface.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00f>type</span> RouteConfig <span style=color:#00f>struct</span> {
</span></span><span style=display:flex><span>	Destination <span style=color:#2b91af>string</span> <span style=color:#a31515>`json:&#34;destination,omitempty&#34;`</span>
</span></span><span style=display:flex><span>	Gateway     <span style=color:#2b91af>string</span> <span style=color:#a31515>`json:&#34;gateway,omitempty&#34;`</span>
</span></span><span style=display:flex><span>	Source      <span style=color:#2b91af>string</span> <span style=color:#a31515>`json:&#34;source,omitempty&#34;`</span>
</span></span><span style=display:flex><span>	Scope       <span style=color:#2b91af>uint8</span>  <span style=color:#a31515>`json:&#34;scope,omitempty&#34;`</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><strong>destination</strong> (string, optional): The destination network in CIDR format (e.g., &ldquo;0.0.0.0/0&rdquo; for a default route, &ldquo;10.0.0.0/8&rdquo; for a specific subnet).</li><li><strong>gateway</strong> (string, optional): The IP address of the gateway for the route. This field is mandatory for routes with Universe scope (0).</li><li><strong>source</strong> (string, optional): An optional source IP address for policy routing.</li><li><strong>scope</strong> (uint8, optional): The scope of the route. Only Link (253) or Universe (0) are allowed.<ul><li>Link (253): Routes directly to a device without a gateway (e.g., for directly connected subnets).</li><li>Universe (0): Routes to a network via a gateway.</li></ul></li></ul><h4 id=neighbor-configuration-neighborconfig>Neighbor Configuration (NeighborConfig)</h4><p>The NeighborConfig structure defines permanent neighbor entries (ARP for IPv4, NDP for IPv6) to be added to the Pod&rsquo;s network namespace.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#00f>type</span> NeighborConfig <span style=color:#00f>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:green>// Destination is the target IP address.
</span></span></span><span style=display:flex><span><span style=color:green></span>	Destination <span style=color:#2b91af>string</span> <span style=color:#a31515>`json:&#34;destination,omitempty&#34;`</span>
</span></span><span style=display:flex><span>	<span style=color:green>// HardwareAddr is the MAC address of the neighbor.
</span></span></span><span style=display:flex><span><span style=color:green></span>	HardwareAddr <span style=color:#2b91af>string</span> <span style=color:#a31515>`json:&#34;hardwareAddr,omitempty&#34;`</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><strong>ipAddress</strong> (string, required): The IP address of the neighbor (e.g., &ldquo;192.168.1.1&rdquo;, &ldquo;2001:db8::1&rdquo;).</li><li><strong>hardwareAddr</strong> (string, required): The MAC address of the neighbor (e.g., &ldquo;00:11:22:33:44:55&rdquo;).</li></ul><h4 id=ethtool-configuration-ethtoolconfig>Ethtool Configuration (EthtoolConfig)</h4><p>The EthtoolConfig structure allows for the configuration of hardware offload features and other settings managed by ethtool.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:green>// EthtoolConfig defines ethtool-based optimizations for a network interface.
</span></span></span><span style=display:flex><span><span style=color:green>// These settings correspond to features typically toggled using `ethtool -K &lt;dev&gt; &lt;feature&gt; on|off`.
</span></span></span><span style=display:flex><span><span style=color:green></span><span style=color:#00f>type</span> EthtoolConfig <span style=color:#00f>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:green>// Features is a map of ethtool feature names to their desired state (true for on, false for off).
</span></span></span><span style=display:flex><span><span style=color:green></span>	<span style=color:green>// Example: {&#34;tcp-segmentation-offload&#34;: true, &#34;rx-checksum&#34;: true}
</span></span></span><span style=display:flex><span><span style=color:green></span>	Features <span style=color:#00f>map</span>[<span style=color:#2b91af>string</span>]<span style=color:#2b91af>bool</span> <span style=color:#a31515>`json:&#34;features,omitempty&#34;`</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:green>// PrivateFlags is a map of device-specific private flag names to their desired state.
</span></span></span><span style=display:flex><span><span style=color:green></span>	<span style=color:green>// Example: {&#34;my-custom-flag&#34;: true}
</span></span></span><span style=display:flex><span><span style=color:green></span>	PrivateFlags <span style=color:#00f>map</span>[<span style=color:#2b91af>string</span>]<span style=color:#2b91af>bool</span> <span style=color:#a31515>`json:&#34;privateFlags,omitempty&#34;`</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li><strong>features</strong> (map[string]bool, optional): A map of ethtool feature names to their desired state (true for on, false for off). For example, {&ldquo;tcp-segmentation-offload&rdquo;: true, &ldquo;rx-checksum&rdquo;: true}.</li><li><strong>privateFlags</strong> (map[string]bool, optional): A map of device-specific private flag names to their desired state. For example, {&ldquo;my-custom-flag&rdquo;: true}.</li></ul><h3 id=example-customizing-a-network-interface-and-routes>Example: Customizing a Network Interface and Routes</h3><p>Below is an example of a ResourceClaim that allocates a dummy interface, renames it to &ldquo;dranet0&rdquo;, assigns a static IP address, configures two routes (one to a subnet via a gateway and another link-scoped route), and adds a permanent IPv4 neighbor entry. It also disables several ethtool features.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>apiVersion: resource.k8s.io/v1
</span></span><span style=display:flex><span>kind: ResourceClaim
</span></span><span style=display:flex><span>metadata:
</span></span><span style=display:flex><span>  name: dummy-interface-advanced
</span></span><span style=display:flex><span>spec:
</span></span><span style=display:flex><span>  devices:
</span></span><span style=display:flex><span>    requests:
</span></span><span style=display:flex><span>    - name: req-dummy-advanced
</span></span><span style=display:flex><span>      exactly:
</span></span><span style=display:flex><span>        deviceClassName: dra.net
</span></span><span style=display:flex><span>        selectors:
</span></span><span style=display:flex><span>          - cel:
</span></span><span style=display:flex><span>              expression: device.attributes[&#34;dra.net&#34;].ifName == &#34;dummy3&#34;
</span></span><span style=display:flex><span>    config:
</span></span><span style=display:flex><span>    - opaque:
</span></span><span style=display:flex><span>        driver: dra.net
</span></span><span style=display:flex><span>        parameters:
</span></span><span style=display:flex><span>          interface:
</span></span><span style=display:flex><span>            name: <span style=color:#a31515>&#34;dranet0&#34;</span>
</span></span><span style=display:flex><span>            addresses:
</span></span><span style=display:flex><span>            - <span style=color:#a31515>&#34;169.254.169.14/24&#34;</span>
</span></span><span style=display:flex><span>            mtu: 4321
</span></span><span style=display:flex><span>            hardwareAddr: <span style=color:#a31515>&#34;00:11:22:33:44:55&#34;</span>
</span></span><span style=display:flex><span>          routes:
</span></span><span style=display:flex><span>          - destination: <span style=color:#a31515>&#34;169.254.169.0/24&#34;</span>
</span></span><span style=display:flex><span>            gateway: <span style=color:#a31515>&#34;169.254.169.1&#34;</span>
</span></span><span style=display:flex><span>          - destination: <span style=color:#a31515>&#34;169.254.169.1/32&#34;</span>
</span></span><span style=display:flex><span>            scope: 253
</span></span><span style=display:flex><span>          neighbors:
</span></span><span style=display:flex><span>          - ipAddress: <span style=color:#a31515>&#34;192.168.1.1&#34;</span>
</span></span><span style=display:flex><span>            hardwareAddr: <span style=color:#a31515>&#34;00:11:22:33:44:55&#34;</span>
</span></span><span style=display:flex><span>          ethtool:
</span></span><span style=display:flex><span>            features:
</span></span><span style=display:flex><span>              tcp-segmentation-offload: <span style=color:#00f>false</span>
</span></span><span style=display:flex><span>              generic-receive-offload: <span style=color:#00f>false</span>
</span></span><span style=display:flex><span>              large-receive-offload: <span style=color:#00f>false</span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span>apiVersion: v1
</span></span><span style=display:flex><span>kind: Pod
</span></span><span style=display:flex><span>metadata:
</span></span><span style=display:flex><span>  name: pod-advanced-cfg
</span></span><span style=display:flex><span>  labels:
</span></span><span style=display:flex><span>    app: pod
</span></span><span style=display:flex><span>spec:
</span></span><span style=display:flex><span>  containers:
</span></span><span style=display:flex><span>  - name: ctr1
</span></span><span style=display:flex><span>    image: registry.k8s.io/e2e-test-images/agnhost:2.54
</span></span><span style=display:flex><span>    <span style=color:green># Keep the container running</span>
</span></span><span style=display:flex><span>    command: [<span style=color:#a31515>&#34;sleep&#34;</span>, <span style=color:#a31515>&#34;infinity&#34;</span>]
</span></span><span style=display:flex><span>  resourceClaims:
</span></span><span style=display:flex><span>  - name: dummy1
</span></span><span style=display:flex><span>    resourceClaimName: dummy-interface-advanced
</span></span></code></pre></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="SIG Network mailing list" aria-label="SIG Network mailing list"><a target=_blank rel=noopener href=https://groups.google.com/forum/#!forum/kubernetes-sig-network aria-label="SIG Network mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/google/dranet aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://kubernetes.slack.com/messages/sig-network aria-label=Slack><i class="fab fa-slack"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2024&ndash;2025
<span class=td-footer__authors>Google LLC | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/js/main.min.d9615597e83c4193e3ab1e6816bad5c8741894e92c5b5c17a8d1d4be6d9af8a2.js integrity="sha256-2WFVl+g8QZPjqx5oFrrVyHQYlOksW1wXqNHUvm2a+KI=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>